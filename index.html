<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bs jss aipopov</title>
</head>
<body>

</body>
</html>

<script>

    const onLoad = () => {
        const newElement = document.createElement('div');
        newElement.innerHTML = `
        <my-panel header="Заголовок" sub-header="Подзаголовок">
            <span slot="header">Компонент выбора</span>
            <my-select>
                <option value="opt1">Option 1</option>
                <option value="opt2">Option 2</option>
                <option value="opt3">Option 3</option>
            </my-select>
        </my-panel>
        `;

        document.body.prepend(newElement);
    }

    const loadComponent = (component) => {
        return new Promise((resolve, reject) => {
            const script = document.createElement('script');
            script.src = `./${component}.js`;
            script.dataset.name = component;

            script.onload = () => resolve(script);
            script.onerror = reject;

            document.body.append(script);
        });
    };
    
    const components = [
        'my-select',
        'my-panel'
    ];
    
    Promise.all(components.map(loadComponent))
        .then((scripts) => {
            onLoad();
        })
        .catch(err => {
            console.error('Ошибка загрузки компонента', err);
        });

</script>